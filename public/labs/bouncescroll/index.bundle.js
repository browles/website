!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}({0:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var s=i(81),r=n(s),o={"font-size":"2rem",color:"white","border-radius":"10px",margin:0,padding:0,position:"absolute","transform-style":"preserve-3d","text-align":"center"},a={background:"#eee",height:"80%",width:"80%",left:"10%",top:"15%",position:"absolute",overflow:"scroll","-webkit-overflow-scrolling":"touch","overflow-scrolling":"touch"},h=document.createElement("script"),u=document.createElement("script");h.async=u.async=1,h.src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.min.js",u.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(h,c),c.parentNode.insertBefore(u,c),window.onload=function(){function t(t,e,i){return e>t?e:t>i?i:t}function e(){requestAnimationFrame(e),i.step(),g.forEach(function(t){t.$div.css("transform","matrix3d("+s.transform(t.body)+")")})}for(var i=new r["default"],n=$('<div id="container"></div>').css(a).appendTo("body"),h=n.width(),u=100,c=.1*n.height(),p=.3*h,l=.5*c,d=l+u*(l+c),f=$("<div></div>").css({width:"100%",height:d+"px",overflow:"hidden"}).appendTo(n),g=[],v=0;u>=v;v++){var y=$('<div class="panel">'+(v+1)+"</div>"),m=2*Math.random()|0,w=i.body({damping:0,position:s.vec3(10+(h-p-20)*m,l+(l+c)*v,0)});w.translates=!1,w.rotates=!1;var x=s.vec3.copy(w.position);w.addConstraint(w.springConstraint(x,.01)),y.css(o),y.css({background:0===m?"grey":"blue",lineHeight:c+"px",height:c+"px",width:p+"px",transform:"matrix3d("+s.transform(w)+")"}),y.appendTo(f),g.push({$div:y,body:w,anchor:x,i:v})}var E=0,C=0;$("#container").scroll(_.throttle(function(e){var i=n.scrollTop(),s=n.height();C=i-E,E=i,g.forEach(function(e){var i=e.body.position,n=.01*C*Math.min(.1*Math.abs(i.y-(E+.5*s)),1e3)|0;i.y+=t(n,-10,10)})},16)),e()}},80:function(t,e){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return{x:t,y:e,z:i}}function n(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return{w:t,x:e,y:i,z:n}}function s(t){var e=arguments.length<=1||void 0===arguments[1]?Array(16):arguments[1];if(t.rotation){var i=t.rotation,n=i.w*i.x,s=i.w*i.y,r=i.w*i.z,o=i.x*i.x,a=i.y*i.y,h=i.z*i.z,u=i.x*i.y,c=i.x*i.z,p=i.y*i.z,l=1-2*(a+h),d=2*(u+r),f=2*(c-s),g=2*(u-r),v=1-2*(o+h),y=2*(p+n),_=2*(c+s),m=2*(p-n),w=1-2*(o+a);e[0]=l,e[1]=d,e[2]=f,e[4]=g,e[5]=v,e[6]=y,e[8]=_,e[9]=m,e[10]=w}else e[0]=1,e[1]=0,e[2]=0,e[4]=0,e[5]=1,e[6]=0,e[8]=0,e[9]=0,e[10]=1;if(t.position){var x=t.position;e[12]=x.x,e[13]=x.y,e[14]=x.z}else e[12]=0,e[13]=0,e[14]=0;return e[3]=0,e[7]=0,e[11]=0,e[15]=1,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec3=i,e.quat=n,e.transform=s,Object.assign(i,{set:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),n.x=t,n.y=e,n.z=i,n},copy:function(t){var e=arguments.length<=1||void 0===arguments[1]?i():arguments[1];return e.x=t.x,e.y=t.y,e.z=t.z,e},add:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?i():arguments[2];return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},subtract:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?i():arguments[2];return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},scale:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?i():arguments[2];return n.x=t.x*e,n.y=t.y*e,n.z=t.z*e,n},normalize:function(t){var e=arguments.length<=1||void 0===arguments[1]?i():arguments[1],n=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);return n=0===n?n:1/n,e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e},lerp:function(t,e,n){var s=arguments.length<=3||void 0===arguments[3]?i():arguments[3];return 1===n?i.copy(e,s):0===n?i.copy(t,s):(s.x=t.x+n*(e.x-t.x),s.y=t.y+n*(e.y-t.y),s.z=t.z+n*(e.z-t.z),s)},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},cross:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?i():arguments[2];return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},len:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},len2:function(t){return t.x*t.x+t.y*t.y+t.z*t.z},dist:function(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return Math.sqrt(i*i+n*n+s*s)},dist2:function(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return i*i+n*n+s*s}}),Object.assign(n,{set:function(t,e,i,n,s){return s.w=t,s.x=e,s.y=i,s.z=n,s},copy:function(t){var e=arguments.length<=1||void 0===arguments[1]?n():arguments[1];return e.w=t.w,e.x=t.x,e.y=t.y,e.z=t.z,e},add:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?n():arguments[2];return i.w=t.w+e.w,i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},subtract:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?n():arguments[2];return i.w=t.w-e.w,i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},multiply:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?n():arguments[2],s=t.w||0,r=t.x,o=t.y,a=t.z,h=e.w||0,u=e.x,c=e.y,p=e.z;return i.w=s*h-r*u-o*c-a*p,i.x=s*u+r*h+o*p-a*c,i.y=s*c-r*p+o*h+a*u,i.z=s*p+r*c-o*u+a*h,i},scale:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?n():arguments[2];return i.w=t.w*e,i.x=t.x*e,i.y=t.y*e,i.z=t.z*e,i},conjugate:function(t){var e=arguments.length<=1||void 0===arguments[1]?n():arguments[1];return e.w=t.w,e.x=-t.x,e.y=-t.y,e.z=-t.z,e},normalize:function(t){var e=arguments.length<=1||void 0===arguments[1]?n():arguments[1],i=Math.sqrt(t.w*t.w+t.x*t.x+t.y*t.y+t.z*t.z);return i=0===i?i:1/i,e.w=t.w*i,e.x=t.x*i,e.y=t.y*i,e.z=t.z*i,e},slerp:function(t,e,i){var s=arguments.length<=3||void 0===arguments[3]?n():arguments[3];if(1===i)return n.copy(s,e);if(0===i)return n.copy(s,t);var r=t.w,o=t.x,a=t.y,h=t.z,u=e.w,c=e.x,p=e.y,l=e.z,d=r*u+o*c+a*p+h*l,f=void 0,g=void 0;if(.9999>d){var v=Math.acos(d),y=Math.sin(v);f=Math.sin((1-i)*v)/y,g=Math.sin(i*v)/y}else f=1-i,g=i;return s.w=r*f+u*g,s.x=o*f+c*g,s.y=a*f+p*g,s.z=h*f+l*g,s},nlerp:function(t,e,i){var s=arguments.length<=3||void 0===arguments[3]?n():arguments[3];if(1===i)return n.copy(e,s);if(0===i)return n.copy(t,s);var r=t.w+i*(e.w-t.w),o=t.x+i*(e.x-t.x),a=t.y+i*(e.y-t.y),h=t.z+i*(e.z-t.z),u=r*r+o*o+a*a+h*h;return u=1/u,s.w=r*u,s.x=o*u,s.y=a*u,s.z=h*u,s},dot:function(t,e){return t.w*e.w+t.x*e.x+t.y*e.y+t.z*e.z},fromEuler:function(t,e,i){var s=arguments.length<=3||void 0===arguments[3]?n():arguments[3],r=.5*t,o=.5*e,a=.5*i,h=Math.sin(r),u=Math.sin(o),c=Math.sin(a),p=Math.cos(r),l=Math.cos(o),d=Math.cos(a);return s.w=p*l*d-h*u*c,s.x=h*l*d+p*u*c,s.y=p*u*d-h*l*c,s.z=p*l*c+h*u*d,s},fromAngleAxis:function(t){var e=arguments.length<=1||void 0===arguments[1]?n():arguments[1],i=t.x*t.x+t.y*t.y+t.z*t.z,s=.5*i,r=Math.sin(s)/i;return e.w=Math.cos(s),e.x=t.x*r,e.y=t.y*r,e.z=t.z*r,e},toAngleAxis:function(t){var e=arguments.length<=1||void 0===arguments[1]?i():arguments[1],n=void 0,s=void 0;return Math.abs(t.w)<1?(n=2*Math.acos(t.w),s=n/Math.sqrt(1-t.w*t.w)):s=n=0,e.x=t.x*s,e.y=t.y*s,e.z=t.z*s,e},fromVectors:function(t,e){var s=arguments.length<=2||void 0===arguments[2]?n():arguments[2];return i.cross(t,e,s),s.w=Math.sqrt(i.len2(t)*i.len2(e))+i.dot(t,e),n.normalize(s,s)}});var r=i();e.vec3Register=r;var o=n();e.quatRegister=o;var a=i();e.zeroVec=a;var h=n();e.unitQuat=h},81:function(t,e,i){"use strict";function n(t,e){var i=e({},t);return delete i["default"],i}function s(t,e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var s=i[n],r=Object.getOwnPropertyDescriptor(e,s);r&&r.configurable&&void 0===t[s]&&Object.defineProperty(t,s,r)}return t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var i=!0,n=!1,s=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var a=r.value;c.vec3.set(0,0,0,a.acceleration);var h=!0,u=!1,p=void 0;try{for(var l,d=a.forces[Symbol.iterator]();!(h=(l=d.next()).done);h=!0){var f=l.value;c.vec3.add(a.acceleration,f(),a.acceleration)}}catch(g){u=!0,p=g}finally{try{!h&&d["return"]&&d["return"]()}finally{if(u)throw p}}c.vec3.set(0,0,0,a.torque);var v=!0,y=!1,_=void 0;try{for(var m,w=a.torques[Symbol.iterator]();!(v=(m=w.next()).done);v=!0){var x=m.value;c.vec3.add(a.torque,x(),a.torque)}}catch(g){y=!0,_=g}finally{try{!v&&w["return"]&&w["return"]()}finally{if(y)throw _}}}}catch(g){n=!0,s=g}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw s}}}function a(t,e){var i=1/e,n=e*e,s=.5*n,r=!0,o=!1,a=void 0;try{for(var h,u=t[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var p=h.value;if(c.vec3.copy(p.position,c.vec3Register),p.translates){var l=p.lastPosition;c.vec3.subtract(p.position,p.lastPosition,l),c.vec3.lerp(l,p.positionDelta,p.interpolation,l),c.vec3.scale(l,1-p.damping,l),c.vec3.copy(l,p.positionDelta),p.active&&(c.vec3.add(p.position,l,p.position),c.vec3.scale(p.acceleration,n,l),c.vec3.add(p.position,l,p.position)),c.vec3.scale(l,i,p.velocity)}if(c.vec3.copy(c.vec3Register,p.lastPosition),c.quat.copy(p.rotation,c.quatRegister),p.rotates){var d=p.lastRotation;c.quat.conjugate(p.lastRotation,d),c.quat.multiply(p.rotation,d,d),c.quat.normalize(d,d),c.quat.nlerp(d,p.rotationDelta,p.interpolation,d),c.quat.nlerp(c.unitQuat,d,1-p.angularDamping,d),c.quat.copy(d,p.rotationDelta),c.quat.toAngleAxis(d,p.angularVelocity),c.vec3.scale(p.angularVelocity,i,p.angularVelocity),p.active&&(c.quat.multiply(d,p.rotation,p.rotation),c.quat.multiply(p.rotation,p.torque,d),c.quat.scale(d,s,d),c.quat.add(p.rotation,d,p.rotation),c.quat.normalize(p.rotation,p.rotation))}c.quat.copy(c.quatRegister,p.lastRotation)}}catch(f){o=!0,a=f}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw a}}}function h(t,e){for(var i=0;4>i;i++){var n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var h=o.value,u=!0,c=!1,p=void 0;try{for(var l,d=h.constraints[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var f=l.value;f()}}catch(g){c=!0,p=g}finally{try{!u&&d["return"]&&d["return"]()}finally{if(c)throw p}}}}catch(g){s=!0,r=g}finally{try{!n&&a["return"]&&a["return"]()}finally{if(s)throw r}}}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(80);s(e,n(c,s));var p=function(){function t(){r(this,t),this.bodies=new Set,this.last=0}return u(t,[{key:"step",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1/60:arguments[0];h(this.bodies,t),o(this.bodies,t),a(this.bodies,t)}},{key:"body",value:function(t){var e=new l(t);return this.bodies.add(e),e}}]),t}();e["default"]=p;var l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.position,n=void 0===i?c.vec3():i,s=e.rotation,o=void 0===s?c.quat():s,a=e.translates,h=void 0===a?!0:a,u=e.rotates,p=void 0===u?!0:u,l=e.damping,d=void 0===l?0:l,f=e.angularDamping,g=void 0===f?0:f,v=e.interpolation,y=void 0===v?0:v;r(this,t),this.position=n,this.lastPosition=c.vec3.copy(n),this.positionDelta=c.vec3(),this.velocity=c.vec3(),this.acceleration=c.vec3(),this.rotation=o,this.lastRotation=c.quat.copy(o),this.rotationDelta=c.quat(),this.angularVelocity=c.vec3(),this.torque=c.vec3(),this.translates=h,this.rotates=p,this.damping=d,this.angularDamping=g,this.interpolation=y,this.active=!0,this.forces=new Set,this.torques=new Set,this.constraints=new Set,this.bound=null}return u(t,[{key:"on",value:function(){return this.active=!0,this}},{key:"off",value:function(){return this.active=!1,this}},{key:"addForce",value:function(t){return this.forces.add(t),this}},{key:"removeForce",value:function(t){return this.forces["delete"](t),this}},{key:"addTorque",value:function(t){return this.torques.add(t),this}},{key:"removeTorque",value:function(t){return this.torques["delete"](t),this}},{key:"addConstraint",value:function(t){return this.constraints.add(t),this}},{key:"removeConstraint",value:function(t){return this.constraints["delete"](t),this}},{key:"spring",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?.1:arguments[2],n=this.position,s=this.velocity,r=2*Math.PI/e;r*=r;var o=4*Math.PI*i/e,a=c.vec3(),h=function(){return c.vec3.subtract(t,n,a),c.vec3.scale(a,r,a),c.vec3.scale(s,-o,c.vec3Register),c.vec3.add(a,c.vec3Register,a),a};return h}},{key:"torsionSpring",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?.1:arguments[2],n=this.rotation,s=this.angularVelocity,r=2*Math.PI/e;r*=r;var o=4*Math.PI*i/e,a=c.vec3(),h=function(){return c.quat.conjugate(n,c.quatRegister),c.quat.multiply(t,c.quatRegister,c.quatRegister),c.quat.toAngleAxis(c.quatRegister,a),c.vec3.scale(a,r,a),c.vec3.scale(s,-o,c.vec3Register),c.vec3.add(a,c.vec3Register,a),a};return h}},{key:"springConstraint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?.05:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=this.position,s=function(){i>0?(c.vec3.subtract(n,t,c.vec3Register),c.vec3.normalize(c.vec3Register,c.vec3Register),c.vec3.scale(c.vec3Register,i,c.vec3Register),c.vec3.add(c.vec3Register,t,c.vec3Register),c.vec3.lerp(n,c.vec3Register,e,n)):c.vec3.lerp(n,t,e,n)};return s}},{key:"torsionSpringConstraint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?.05:arguments[1],i=(arguments.length<=2||void 0===arguments[2]?0:arguments[2],this.rotation),n=function(){c.quat.nlerp(i,t,e,i)};return n}},{key:"pinConstraint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?.05:arguments[1],i=this.position,n=this.rotation,s=c.vec3.subtract(t,i),r=c.quat.copy(n),o=this.torsionSpringConstraint(r,e,0),a=c.vec3.dist(t,i),h=this.springConstraint(t,e,a),u=function(){c.vec3.subtract(t,i,c.vec3Register),c.quat.fromVectors(s,c.vec3Register,c.quatRegister),c.quat.multiply(c.quatRegister,r,r),c.vec3.copy(c.vec3Register,s),h(),o()};return u}}]),t}()}});